<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact - Emilien Autran</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Animation de chargement */
    .loader {
      display: none;
      margin-top: 20px;
      text-align: center;
    }

    .loader:after {
      content: "";
      display: inline-block;
      width: 32px;
      height: 32px;
      border: 4px solid #6c63ff;
      border-top: 4px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* Supprime le reflet sur les boutons */
    .btn:hover {
      filter: none;
    }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("contactForm");
      const loader = document.querySelector(".loader");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        loader.style.display = "block"; // affiche le loader
        const data = new FormData(form);

        try {
          const response = await fetch("https://formspree.io/f/xzzgbdba", {
            method: "POST",
            body: data,
            headers: {
              'Accept': 'application/json'
            }
          });

          if (response.ok) {
            window.location.href = "merci.html"; // redirection personnalisée
          } else {
            alert("Une erreur est survenue. Merci de réessayer.");
          }
        } catch (error) {
          alert("Une erreur est survenue. Merci de réessayer.");
        } finally {
          loader.style.display = "none";
        }
      });
    });
  </script>
</head>
<body>

  <header class="header">
    <a href="index.html" class="logo-glow">EMILIEN AUTRAN</a>
    <nav>
      <a href="presentation.html" class="nav-link">🧑‍💻 Présentation</a>
      <a href="competences.html" class="nav-link">🚀 Compétences</a>
      <a href="experiences.html" class="nav-link">📜 Expériences</a>
      <a href="contact.html" class="nav-link active">📩 Contact</a>
    </nav>
  </header>

  <main class="content card">
    <h2>📩 Contactez-moi</h2>
    <p>Vous souhaitez en savoir plus, discuter d’un projet ou simplement dire bonjour ? N’hésitez pas à me contacter !</p>

    <form id="contactForm" class="contact-form">
      <label for="name">Nom complet :</label><br />
      <input type="text" id="name" name="name" placeholder="Votre nom" required /><br />

      <label for="email">Adresse email :</label><br />
      <input type="email" id="email" name="email" placeholder="votre.email@exemple.com" required /><br />

      <label for="message">Message :</label><br />
      <textarea id="message" name="message" rows="5" placeholder="Votre message ici..." required></textarea><br />

      <button type="submit" class="btn">Envoyer</button>
      <div class="loader"></div>
    </form>

    <section class="contact-info" style="margin-top:30px;">
      <p>📧 <a href="mailto:emilien.autran@gmail.com" class="gradient-text">emilien.autran@gmail.com</a></p>
      <p>📞 07-68-67-55-97</p>
      <p>📍 Pertuis, France</p>
    </section>
  </main>

  <footer>
    <p>© 2025 Emilien Autran | Portfolio</p>
  </footer>

</body>
</html>
